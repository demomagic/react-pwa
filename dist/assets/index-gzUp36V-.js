import{b as r,j as t,K as C}from"./hooks-BiQeOY3r.js";import{B as S,T as h}from"./App-BP2C_pl0.js";import"./index-DIeMEVv-.js";function L(){const I=r.useRef(null),[E,R]=r.useState(0),[s,G]=r.useState(!1),[o,P]=r.useState(!1),u=r.useRef([]),[m,M]=r.useState(250),g=r.useRef(void 0),A=r.useRef(0),i=500,a=400,l=60,v=80,k=150;r.useEffect(()=>{if(!o||s)return;const f=I.current;if(!f)return;const e=f.getContext("2d");if(!e)return;const y=()=>{e.clearRect(0,0,i,a),e.fillStyle="#2d5016",e.fillRect(0,0,i,a),e.strokeStyle="#ffffff",e.lineWidth=4;const B=a-k;e.strokeRect(150,B,200,k),e.fillStyle="#ffeb3b",e.fillRect(m-l/2,a-v,l,v),e.fillStyle="#ff9800",e.beginPath(),e.arc(m,a-v-10,15,0,Math.PI*2),e.fill();const H=[];u.current.forEach(n=>{const c=n.x+n.velocityX,x=n.y+n.velocityY,Y=n.velocityY+.3;if(x+n.radius>=a){const d=m-l/2,p=m+l/2;c>=d&&c<=p?R(j=>j+1):c>=150&&c<=350&&G(!0)}else{H.push({...n,x:c,y:x,velocityY:Y}),e.fillStyle="#ffffff",e.beginPath(),e.arc(c,x,n.radius,0,Math.PI*2),e.fill(),e.strokeStyle="#000000",e.lineWidth=1,e.beginPath(),e.arc(c,x,n.radius,0,Math.PI*2),e.stroke(),e.beginPath();for(let d=0;d<5;d++){const p=d*2*Math.PI/5,j=c+n.radius*.5*Math.cos(p),T=x+n.radius*.5*Math.sin(p);d===0?e.moveTo(j,T):e.lineTo(j,T)}e.closePath(),e.stroke()}}),u.current=H,g.current=requestAnimationFrame(y)};return g.current=requestAnimationFrame(y),()=>{g.current&&cancelAnimationFrame(g.current)}},[o,s,m,i,a,l,v,k]),r.useEffect(()=>{if(!o||s)return;const f=setInterval(()=>{const e={id:A.current++,x:Math.random()*(i-100)+50,y:20,velocityX:(Math.random()-.5)*2,velocityY:Math.random()*2+3,radius:15};u.current=[...u.current,e]},1500);return()=>clearInterval(f)},[o,s,i]);const F=f=>{if(!o||s)return;const e=I.current;if(!e)return;const y=e.getBoundingClientRect(),B=f.clientX-y.left;M(Math.max(l/2,Math.min(i-l/2,B)))},b=()=>{P(!0),G(!1),R(0),u.current=[],M(250),A.current=0},X=()=>{P(!1),G(!1),R(0),u.current=[],M(250),A.current=0};return t.jsxs(t.Fragment,{children:[t.jsx("meta",{name:"title",content:"Football Game"}),t.jsxs(S,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100%",padding:2,gap:2},children:[t.jsx(h,{variant:"h4",gutterBottom:!0,children:"âš½ Goalkeeper Challenge"}),!o&&!s&&t.jsxs(S,{sx:{textAlign:"center",mb:2},children:[t.jsx(h,{variant:"body1",gutterBottom:!0,children:"Move your mouse to control the goalkeeper"}),t.jsx(h,{variant:"body2",gutterBottom:!0,children:"Save the balls and don't let them score!"}),t.jsx(C,{variant:"contained",onClick:b,sx:{mt:2},children:"Start Game"})]}),o&&!s&&t.jsxs(S,{sx:{display:"flex",gap:3,alignItems:"center"},children:[t.jsxs(h,{variant:"h6",children:["Score: ",E]}),t.jsx(C,{variant:"outlined",size:"small",onClick:X,children:"Restart"})]}),s&&t.jsxs(S,{sx:{textAlign:"center",mb:2},children:[t.jsx(h,{variant:"h5",color:"error",gutterBottom:!0,children:"Game Over!"}),t.jsxs(h,{variant:"h6",gutterBottom:!0,children:["Final Score: ",E]}),t.jsx(C,{variant:"contained",onClick:b,sx:{mt:2},children:"Play Again"})]}),t.jsx("canvas",{ref:I,width:i,height:a,onMouseMove:F,style:{border:"3px solid #333",borderRadius:"8px",cursor:o&&!s?"none":"default",backgroundColor:"#2d5016"}})]})]})}export{L as default};
